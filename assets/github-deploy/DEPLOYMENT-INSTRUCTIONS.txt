================================
EASY SEAS BACKEND DEPLOYMENT
================================

STEP 1: UPLOAD TO GITHUB
-------------------------
1. Create a new GitHub repository (or use existing one)
2. Upload ALL files from this folder to your GitHub repo:
   - backend/ folder (with all .js files inside)
   - package.json
   - server.js
   - .npmrc (IMPORTANT: This file is needed!)

IMPORTANT: Make sure .npmrc is uploaded! 
GitHub might hide it because it starts with a dot.
You can verify it's there by checking the file list in your repo.

STEP 2: CONFIGURE RENDER
-------------------------
1. Go to https://dashboard.render.com
2. Click "New +" â†’ "Web Service"
3. Connect your GitHub repository
4. Configure the service:

   Name: easyseas-backend (or whatever you want)
   Region: Choose closest to you
   Branch: main (or your branch name)
   Root Directory: Leave EMPTY (unless you put files in a subfolder)
   Runtime: Node
   Build Command: npm install
   Start Command: npm start

5. Click "Advanced" and add Environment Variables:
   - EXPO_PUBLIC_RORK_DB_ENDPOINT (your database endpoint)
   - EXPO_PUBLIC_RORK_DB_NAMESPACE (your database namespace)
   - EXPO_PUBLIC_RORK_DB_TOKEN (your database token)
   - EXPO_PUBLIC_TOOLKIT_URL (your toolkit URL)
   - RORK_NPM_TOKEN (get this from Rork support)

6. Choose plan (Free tier is fine for testing)
7. Click "Create Web Service"

STEP 3: VERIFY DEPLOYMENT
--------------------------
1. Wait for deployment to complete (check logs)
2. You should see: "Server running on port XXXX"
3. Visit your Render URL (e.g., https://easyseas-backend.onrender.com)
4. You should see: {"status":"ok","message":"API is running","timestamp":...}

STEP 4: UPDATE YOUR APP
------------------------
Update your mobile app to use the new backend URL:
- In your app, set the API endpoint to: https://YOUR-SERVICE-NAME.onrender.com/api

TROUBLESHOOTING
---------------
If build fails with "Cannot find module":
- Make sure ALL .js files are in the backend/ folder
- Make sure .npmrc file is present in the root
- Check that package.json is in the root
- Verify environment variables are set

If server starts but can't connect to database:
- Check that all EXPO_PUBLIC_RORK_DB_* variables are set correctly
- Check the logs for database connection errors

If you get RORK_NPM_TOKEN errors:
- Contact Rork support to get your npm token
- Make sure it's added as an environment variable in Render

NEED HELP?
----------
Check the Render deployment logs for detailed error messages.
The logs will tell you exactly what's wrong.
